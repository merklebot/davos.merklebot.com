(window.webpackJsonp=window.webpackJsonp||[]).push([[56,17,45],{1030:function(t,e,n){"use strict";n.d(e,"a",(function(){return o})),n.d(e,"b",(function(){return r}));var o=function(){var t=this.$createElement,e=this._self._c||t;return e("main",{staticClass:"bg-gray-800 overflow-hidden relative"},[e("div",{staticClass:"flex items-start justify-between"},[e("div",{staticClass:"flex flex-col w-full md:space-y-4"},[e("div",{staticClass:"overflow-auto pb-24 px-4 md:px-6"},[e("div",[e("div",{staticClass:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-4 my-4"},[e("CardContainer",{attrs:{title:"Digital twin"}},[e("URDFFrame",{attrs:{"urdf-url":"/urdf/spot.urdf.xacro","ros-url":"ws://localhost:8000/robots/1/realtime_ws"}})],1)],1)])])])])])},r=[]},1043:function(t,e,n){"use strict";n.r(e);var o=n(1030),r=n(771);for(var l in r)["default"].indexOf(l)<0&&function(t){n.d(e,t,(function(){return r[t]}))}(l);var d=n(25),component=Object(d.a)(r.default,o.a,o.b,!1,null,null,null);e.default=component.exports,installComponents(component,{URDFFrame:n(890).default,CardContainer:n(560).default})},560:function(t,e,n){"use strict";n.r(e);var o={name:"CardContainer",props:{title:{type:String,required:!1}}},r=n(25),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full"},[n("div",{staticClass:"shadow-lg px-4 py-2 w-full bg-gray-600 relative"},[n("p",{staticClass:"text-lh w-max text-white font-semibold border-b border-gray-200"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),t._t("default")],2)])}),[],!1,null,"7302cd96",null);e.default=component.exports},771:function(t,e,n){"use strict";n.r(e);var o=n(772),r=n.n(o);for(var l in o)["default"].indexOf(l)<0&&function(t){n.d(e,t,(function(){return o[t]}))}(l);e.default=r.a},772:function(t,e){},890:function(t,e,n){"use strict";n.r(e);n(77),n(44),n(21),n(43);var o=n(586),r=n(773),l=n(1054),d=n(777),c=n(94),f=Object(c.b)({props:["rosUrl","urdfUrl"],setup:function(t){console.log(t);var e=t.rosUrl,n=t.urdfUrl,f=Object(c.f)("wait"),v=Object(c.f)(null),m=Object(c.f)(null),w=Object(c.f)(null),x=Object(c.f)(null),h=new l.a,y=new WebSocket(e),C=new o.Scene,_=new o.PlaneGeometry(8,8),j=new o.MeshBasicMaterial({color:"#BBBBBB",side:o.DoubleSide}),O=new o.Mesh(_,j),z=new o.PerspectiveCamera(75,4/3,.1,1e3),S=new o.WebGLRenderer({antialias:!0}),B=new o.DirectionalLight("hsl(0, 100%, 100%)"),M=new o.AxesHelper(5),P=null;z.position.z=0,z.position.y=.8,z.position.x=1,O.rotation.x=Math.PI/2,O.position.y=0,C.add(z),C.add(B),C.add(M),C.add(O),h.load(n,(function(t){var e=new d.a;e.workingPath=o.LoaderUtils.extractUrlBase(n),(P=e.parse(t)).rotation.x=-Math.PI/2,C.add(P),f.value="urdf loaded"})),S.setSize(400,300),B.position.set(5,5,0),C.background=new o.Color("hsl(0, 100%, 100%)");var U=new r.a(z,S.domElement);U.rotateSpeed=1,U.zoomSpeed=5,U.panSpeed=.8,U.noZoom=!1,U.noPan=!1,U.staticMoving=!0,U.dynamicDampingFactor=.3;var animate=function animate(){if(setTimeout((function(){requestAnimationFrame(animate)}),1e3/30),S.render(C,z),w.value){var t=w.value;m.value||(m.value={y:t.translation.z,x:t.translation.x,z:-t.translation.y}),P.position.y=t.translation.z-m.value.y+.1,P.position.x=t.translation.x-m.value.x,P.position.z=-t.translation.y-m.value.z;var e=new o.Euler;if(e.setFromQuaternion(new o.Quaternion(t.rotation.x,t.rotation.y,t.rotation.z,t.rotation.w)),P.rotation.x=e.y-Math.PI/2,P.rotation.y=e.x,P.rotation.z=e.z+Math.PI/2,null!==x.value)for(var n=x.value,r=0;r<n.position.length;r++)P.joints[n.name[r]].setJointValue(n.position[r])}U.update()};return Object(c.d)((function(){v.value.appendChild(S.domElement),animate(),y.onopen=function(t){console.log("Connection established")},y.onmessage=function(t){var data=JSON.parse(t.data);console.log(data);var e=data.robot;x.value=e.topics["/joint_states"];var n=e.topics["/tf"];4===n.transforms.length&&n.transforms.forEach((function(t){"body"===t.child_frame_id&&(w.value=t.transform)}))}})),{scene:C,camera:z,renderer:S,light:B,axes:M,stage:v,status:f}}}),v=n(25),component=Object(v.a)(f,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",[t._v("status: "+t._s(t.status))]),t._v(" "),n("div",{ref:"stage",staticClass:"stage"})])}),[],!1,null,null,null);e.default=component.exports}}]);