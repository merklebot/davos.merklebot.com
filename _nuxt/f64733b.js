(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{892:function(e,t,n){"use strict";n.r(t);n(77),n(44),n(21),n(43);var o=n(591),r=n(776),l=n(1054),c=n(779),d=n(94),v=Object(d.b)({props:["rosUrl","urdfUrl"],setup:function(e){console.log(e);var t=e.rosUrl,n=e.urdfUrl,v=Object(d.f)("wait"),f=Object(d.f)(null),w=Object(d.f)(null),m=Object(d.f)(null),h=Object(d.f)(null),x=new l.a,y=new WebSocket(t),z=new o.Scene,j=new o.PlaneGeometry(8,8),O=new o.MeshBasicMaterial({color:"#BBBBBB",side:o.DoubleSide}),B=new o.Mesh(j,O),M=new o.PerspectiveCamera(75,4/3,.1,1e3),P=new o.WebGLRenderer({antialias:!0}),S=new o.DirectionalLight("hsl(0, 100%, 100%)"),_=new o.AxesHelper(5),U=null;M.position.z=0,M.position.y=.8,M.position.x=1,B.rotation.x=Math.PI/2,B.position.y=0,z.add(M),z.add(S),z.add(_),z.add(B),x.load(n,(function(e){var t=new c.a;t.workingPath=o.LoaderUtils.extractUrlBase(n),(U=t.parse(e)).rotation.x=-Math.PI/2,z.add(U),v.value="urdf loaded"})),P.setSize(400,300),S.position.set(5,5,0),z.background=new o.Color("hsl(0, 100%, 100%)");var k=new r.a(M,P.domElement);k.rotateSpeed=1,k.zoomSpeed=5,k.panSpeed=.8,k.noZoom=!1,k.noPan=!1,k.staticMoving=!0,k.dynamicDampingFactor=.3;var animate=function animate(){if(setTimeout((function(){requestAnimationFrame(animate)}),1e3/30),P.render(z,M),m.value){var e=m.value;w.value||(w.value={y:e.translation.z,x:e.translation.x,z:-e.translation.y}),U.position.y=e.translation.z-w.value.y+.1,U.position.x=e.translation.x-w.value.x,U.position.z=-e.translation.y-w.value.z;var t=new o.Euler;if(t.setFromQuaternion(new o.Quaternion(e.rotation.x,e.rotation.y,e.rotation.z,e.rotation.w)),U.rotation.x=t.y-Math.PI/2,U.rotation.y=t.x,U.rotation.z=t.z+Math.PI/2,null!==h.value)for(var n=h.value,r=0;r<n.position.length;r++)U.joints[n.name[r]].setJointValue(n.position[r])}k.update()};return Object(d.d)((function(){f.value.appendChild(P.domElement),animate(),y.onopen=function(e){console.log("Connection established")},y.onmessage=function(e){var data=JSON.parse(e.data);console.log(data);var t=data.robot;h.value=t.topics["/joint_states"];var n=t.topics["/tf"];4===n.transforms.length&&n.transforms.forEach((function(e){"body"===e.child_frame_id&&(m.value=e.transform)}))}})),{scene:z,camera:M,renderer:P,light:S,axes:_,stage:f,status:v}}}),f=n(25),component=Object(f.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",[e._v("status: "+e._s(e.status))]),e._v(" "),n("div",{ref:"stage",staticClass:"stage"})])}),[],!1,null,null,null);t.default=component.exports}}]);